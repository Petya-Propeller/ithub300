## Документация
- **Автор:** Катрич Петр Николаевич
- **Группа:** ИТ-11.24.5
- **Дата:** 16.10.2025
- **Проект:** CoffeeFlow Bot
- **Назначение:** Telegram-бот для увеличения потока клиентов в непиковые часы

## Введение

Telegram-бот "CoffeeFlow" разрабатывается для местной кофейни с целью увеличения потока клиентов в непиковые часы работы заведения. Бот предоставляет удобный интерфейс для заказа кофе и сопутствующих продуктов с системой лояльности и уникальным пользовательским опытом

## Цели и задачи

### Бизнес-цели
- Увеличить продажи в непиковые часы (9:00-11:00 и 15:00-17:00)
- Снизить нагрузку на персонал в пиковые часы
- Повысить лояльность постоянных клиентов
- Создать дополнительный канал продаж

### Технические задачи
- Реализовать интуитивный интерфейс заказа
- Интегрировать систему оплаты по QR-коду
- Обеспечить выбор способа получения заказа
- Реализовать систему уведомлений о статусе заказа

## Требования к функционалу

### Основной функционал
1. **Меню и каталог**
   - Отображение полного меню кофейни
   - Возможность выбора нескольких позиций
   - Фильтрация по категориям (кофе, чай, десерты)
   - Отображение цен и наличия

2. **Процесс заказа**
   - Добавление товаров в корзину
   - Редактирование состава заказа
   - Расчет итоговой стоимости
   - Выбор способа получения: "Заберу сам" / "Доставка до офиса"

3. **Оплата**
   - Генерация QR-кода для оплаты
   - Интеграция с платежной системой
   - Уведомление о статусе оплаты
   - Подтверждение успешной оплаты

4. **Доставка**
   - Подробное описание точки доставки при выборе "Доставка до офиса"
   - Указание этажа, кабинета, дополнительных ориентиров
   - Расчет времени доставки

### Дополнительный функционал
5. **Система лояльности**
   - Накопительные бонусы
   - История заказов
   - Персональные скидки

## Требования к интерфейсу

### Структура бота
- **Меню** ->
- **Кофе**
- **Чай**
- **Десерты**
- **Корзина**
- **Мои заказы**
- **Бонусы**
- **Настройки**

### Взаимодействие с пользователем
- Пошаговый процесс заказа с кнопочной навигацией
- Ввод адреса доставки через текстовые сообщения
- Визуальное подтверждение действий (иконки, эмодзи)
- Автоматические уведомления о смене статуса заказа

## Нефункциональные требования

### Производительность
- Время отклика на команды: не более 2 секунд
- Поддержка до 100 одновременных пользователей
- Обработка до 50 заказов в час

### Надежность
- Доступность 99% в рабочее время кофейни
- Резервное копирование данных заказов
- Восстановление сессии при обрыве связи

### Безопасность
- Защита персональных данных пользователей
- Безопасное хранение платежной информации
- Валидация вводимых данных

## Интеграции и окружение

### Внешние интеграции
- **Платежная система**: ЮKassa
- **База данных**: PostgreSQL
- **Хостинг**: VPS
- **Мониторинг**: Sentry для отслеживания ошибок

### Технический стек
- **Backe**: Python
- **Database**: PostgreSQL
- **Payment**: ЮKassa
- **QR Generation**: qrcode library

## Ограничения и допущения

### Ограничения
- Бот работает только в чате с пользователем (не в группах)
- Оплата доступна только через QR-код
- Доставка осуществляется в радиусе 1 км от кофейни
- Время работы: с 8:00 до 20:00

### Допущения
- Пользователи имеют базовые навыки работы с Telegram
- Доступен стабильный интернет на стороне пользователя
- Персонал кофейни обучен работе с системой

## Критерии приёмки

### Обязательные критерии
- [ ] Пользователь может выбрать минимум 3 позиции из меню
- [ ] Система генерирует корректный QR-код для оплаты
- [ ] Приходит уведомление об успешной оплате
- [ ] Реализованы оба способа получения заказа
- [ ] При доставке сохраняется подробное описание точки
- [ ] Бот стабильно работает в часы нагрузки

### Дополнительные критерии
- [ ] Реализована система бонусов и скидок
- [ ] Есть история заказов для пользователя
- [ ] Настроены уведомления для администратора
